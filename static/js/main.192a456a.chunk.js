(this.webpackJsonpproblem=this.webpackJsonpproblem||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),l=n(7),d=n.n(l),i=(n(12),n(5)),r=n(4),s=n(1),j=(n.p,n(13),n(2)),o=n.n(j),u=n(0),b={subjects:{},objects:{},commands:{},validations:{}},O=function(e,t){switch(t.type){case"addSubject":return Object(s.a)(Object(s.a)({},e),{},{subjects:Object(s.a)(Object(s.a)({},e.subjects),{},Object(r.a)({},"".concat((new Date).getTime()),t.payload))});case"deleteSubject":var n=t.payload;return delete e.subjects[t.payload],e.validations=o.a.reduce(e.validations,(function(e,t,c){return t.subject!==n&&(e[c]=t),e}),{}),e.commands=o.a.reduce(e.commands,(function(e,t,c){return t.newOwner!==n&&t.oldOwner!==n&&(e[c]=t),e}),{}),Object(s.a)(Object(s.a)({},e),{},{subjects:Object(s.a)({},e.subjects)});case"addObject":return Object(s.a)(Object(s.a)({},e),{},{objects:Object(s.a)(Object(s.a)({},e.objects),{},Object(r.a)({},"".concat((new Date).getTime()),t.payload))});case"deleteObject":var c=t.payload;return delete e.objects[t.payload],e.validations=o.a.reduce(e.validations,(function(e,t,n){return t.object!==c&&(e[n]=t),e}),{}),e.commands=o.a.reduce(e.commands,(function(e,t,n){return t.newFile!==c&&t.oldFile!==c&&(e[n]=t),e}),{}),Object(s.a)(Object(s.a)({},e),{},{objects:Object(s.a)({},e.objects)});case"addCommand":return Object(s.a)(Object(s.a)({},e),{},{commands:Object(s.a)(Object(s.a)({},e.commands),{},Object(r.a)({},"".concat((new Date).getTime()),t.payload))});case"deleteCommand":return delete e.commands[t.payload],Object(s.a)(Object(s.a)({},e),{},{commands:Object(s.a)({},e.commands)});case"addValidation":return Object(s.a)(Object(s.a)({},e),{},{validations:Object(s.a)(Object(s.a)({},e.validations),{},Object(r.a)({},"".concat((new Date).getTime()),t.payload))});case"deleteValidation":return delete e.validations[t.payload],Object(s.a)(Object(s.a)({},e),{},{validations:Object(s.a)({},e.validations)});default:return e}};var h=function(){var e=Object(c.useReducer)(O,b,(function(){return b})),t=Object(i.a)(e,2),n=t[0],a=n.subjects,l=n.objects,d=n.commands,r=n.validations,s=t[1],j=Object(c.useState)(""),h=Object(i.a)(j,2),p=h[0],x=h[1],m=Object(c.useState)(""),f=Object(i.a)(m,2),v=f[0],y=f[1],w=Object(c.useState)("mo"),g=Object(i.a)(w,2),C=g[0],F=g[1],k=Object(c.useState)(null),S=Object(i.a)(k,2),D=S[0],R=S[1],T=Object(c.useRef)(null),V=Object(c.useRef)(null),A=Object(c.useRef)(null),I=Object(c.useRef)(null),M=Object(c.useRef)(null),B=Object(c.useRef)(null),E=Object(c.useRef)(null),G=function(e,t){switch(t[e]){case 1:return"r";case 2:return"o";case 3:return"ro";default:return null}};return Object(c.useEffect)((function(){s({type:"addSubject",payload:"a"}),setTimeout((function(){return s({type:"addObject",payload:"f1"})}),100)}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsxs)("div",{style:{border:"black solid 1px"},children:[Object(u.jsx)("h1",{children:"Subjects"}),Object(u.jsx)("div",{style:{display:"flex"},children:o.a.map(a,(function(e,t){return Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("p",{children:e}),Object(u.jsx)("button",{onClick:function(){return s({type:"deleteSubject",payload:t})},children:"Delete"})]})}))}),Object(u.jsx)("input",{type:"text",value:p,onChange:function(e){return x(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){p&&(s({type:"addSubject",payload:p}),x(""))},children:"Add"})]}),Object(u.jsxs)("div",{style:{border:"black solid 1px"},children:[Object(u.jsx)("h1",{children:"Objects"}),Object(u.jsx)("div",{style:{display:"flex"},children:o.a.map(l,(function(e,t){return Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("p",{children:e}),Object(u.jsx)("button",{onClick:function(){return s({type:"deleteObject",payload:t})},children:"Delete"})]})}))}),Object(u.jsx)("input",{type:"text",value:v,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){v&&(s({type:"addObject",payload:v}),y(""))},children:"Add"})]})]}),Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsxs)("div",{style:{border:"black solid 1px"},children:[Object(u.jsx)("h1",{children:"Commands"}),Object(u.jsx)("div",{children:o.a.map(d,(function(e,t){return Object(u.jsxs)("div",{style:{display:"flex"},children:["mo"===e.command&&Object(u.jsxs)("p",{children:["Make ",a[e.newOwner]," owner of ",l[e.newFile]]}),"grr"===e.command&&Object(u.jsxs)("p",{children:["Grant ",a[e.oldOwner],"'s read right of ",l[e.oldFile]," to ",a[e.newOwner]]}),Object(u.jsx)("button",{onClick:function(){return s({type:"deleteCommand",payload:t})},children:"Delete"})]})}))}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("select",{name:"command",id:"command",value:C,onChange:function(e){return F(e.target.value)},children:[Object(u.jsx)("option",{value:"mo",children:"Make Owner"}),Object(u.jsx)("option",{value:"grr",children:"Grant Read Rights"})]}),"mo"===C&&Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("p",{children:"Make"}),Object(u.jsx)("select",{name:"newOwner",id:"newOwner",ref:T,children:o.a.map(a,(function(e,t){return Object(u.jsx)("option",{value:t,children:e})}))}),Object(u.jsx)("p",{children:"owner of "}),Object(u.jsx)("select",{name:"newFIle",id:"newFile",ref:V,children:o.a.map(l,(function(e,t){return Object(u.jsx)("option",{value:t,children:e})}))})]}),"grr"===C&&Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("select",{name:"oldOwner",id:"oldOwner",ref:A,children:o.a.map(a,(function(e,t){return Object(u.jsx)("option",{value:t,children:e})}))}),Object(u.jsx)("p",{children:"grants read rights of "}),Object(u.jsx)("select",{name:"oldFIle",id:"olfFile",ref:I,children:o.a.map(l,(function(e,t){return Object(u.jsx)("option",{value:t,children:e})}))}),Object(u.jsx)("p",{children:" to "}),Object(u.jsx)("select",{name:"newOwner",id:"newOwner",ref:M,children:o.a.map(a,(function(e,t){return Object(u.jsx)("option",{value:t,children:e})}))})]}),Object(u.jsx)("button",{onClick:function(){var e={};e.command=C,"mo"===C?(e.newOwner=T.current.value,e.newFile=V.current.value):"grr"===C&&(e.oldOwner=A.current.value,e.oldFile=I.current.value,e.newOwner=M.current.value),s({type:"addCommand",payload:e})},children:" Add Command"})]})]}),Object(u.jsxs)("div",{style:{border:"black solid 1px"},children:[Object(u.jsx)("h1",{children:"Validations"}),Object(u.jsx)("div",{children:o.a.map(r,(function(e,t){return Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsxs)("p",{children:["Does ",a[e.subject]," have read rights of ",l[e.object]]}),Object(u.jsx)("button",{onClick:function(){return s({type:"deleteValidation",payload:t})},children:"Delete"})]})}))}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("p",{children:"Does "}),Object(u.jsx)("select",{name:"validationOwner",id:"validationOwner",ref:B,children:o.a.map(a,(function(e,t){return Object(u.jsx)("option",{value:t,children:e})}))}),Object(u.jsx)("p",{children:" can read "}),Object(u.jsx)("select",{name:"validationFile",id:"validationFile",ref:E,children:o.a.map(l,(function(e,t){return Object(u.jsx)("option",{value:t,children:e})}))})]}),Object(u.jsx)("button",{onClick:function(){var e={subject:B.current.value,object:E.current.value};s({type:"addValidation",payload:e})},children:" Add Validation"})]})]})]}),Object(u.jsx)("button",{onClick:function(){var e={};o.a.each(a,(function(t,n){o.a.each(a,(function(t,c){e["".concat(n).concat(c)]=0})),o.a.each(l,(function(t,c){e["".concat(n).concat(c)]=0}))})),o.a.each(d,(function(t,n){if("mo"===t.command){var c=t.newOwner+t.newFile;[0,2].includes(e[c])?e[c]=2:[1,3].includes(e[c])&&(e[c]=3)}else if("grr"===t.command){var a=t.newOwner+t.oldFile,l=t.oldOwner+t.oldFile;[2,3].includes(e[l])&&([0,1].includes(e[a])?e[a]=1:[2,3].includes(e[a])&&(e[a]=3))}}));var t=[],n=Object(u.jsx)("table",{children:Object(u.jsxs)("thead",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{}),o.a.map(a,(function(e,t){return Object(u.jsx)("td",{children:e})})),o.a.map(l,(function(e,t){return Object(u.jsx)("td",{children:e})}))]}),Object(u.jsx)("tbody",{children:o.a.map(a,(function(t,n){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t}),o.a.map(a,(function(t,c){return Object(u.jsx)("td",{children:G(n+c,e)})})),o.a.map(l,(function(t,c){return Object(u.jsx)("td",{children:G(n+c,e)})}))]})}))})]})});t.push(n),o.a.each(r,(function(n,c){var d=n.subject+n.object;t.push(Object(u.jsxs)("p",{children:[a[n.subject]," has read access to ",l[n.object],", ",[1,2,3].includes(e[d])?"True":"False"]}))})),R(t)},children:" Start"}),Object(u.jsx)("div",{children:D})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,l=t.getLCP,d=t.getTTFB;n(e),c(e),a(e),l(e),d(e)}))};d.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.192a456a.chunk.js.map